#!/usr/bin/env python
# -*- coding: UTF-8 -*-


from control_system import *
from matplotlib.pyplot import draw , figure , show

G=systf([100],[1,1,2])


sysout(G)


print tfeval(G,1+1j);

FreqResp(G,400)
#print Fresp
f=figure()


print G.FRESP['W']
af1=f.add_subplot(211)
semilogx(G.FRESP['W'],G.FRESP['MAGdb'],color = '#340B8C')
ylabel("Mag-dB")
title("Bode Chart")
Ymin,Ymax= ylim()
ylim(Ymin-5,Ymax+5)
print xticks()
#ylim(Ymax+2,Ymin-2)
grid(True,which="majorminor",ls="-",color='0.65')

af2=f.add_subplot(212)
semilogx(G.FRESP['W'],G.FRESP['Phase'])
ylabel("Phase (deg.)")
xlabel("Freq W (rad/s)")
Ymin,Ymax= ylim()   
yticks((-360,-270,-225,-180,-135,-90,-45,0,45,90,135,180,225,270,360))
ylim(Ymin-5,Ymax+5)
grid(True,which="majorminor",ls="-",color='0.65')


savefig("bode-chart.png")


draw()
show()

#grid()
#show()
#draw()

print "continue calculations" 


from IPython.Shell import IPShellEmbed

ipshell = IPShellEmbed()

ipshell() # this call anywhere in your program will start IPython

#show()
