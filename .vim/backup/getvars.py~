import re  # importa regex

class  VARS():


	varlist=[]

	def listvars(self):
		for v in varlist:
			print "%s =%s" % (v,str(eval(v)))


	def findvars(self,expr1):
		patt1="[A-Za-z0-9]+=" 	# encontra expressao   "ab="
		patt2="[A-Za-z0-9]+"     # encontra ab
		patt1=re.compile(patt1)
		patt2=re.compile(patt2)

		expr2=expr1[:-1]   # Remove o ultimo caracter da linha do codigo \n (newline)
		#  Se encontrou expressao numerica
		#executa este codigo e imprime o resultado
		#
		if patt1.match(expr2)!=None:
			#print "ok"
			str1=patt1.findall(expr2)
			#print str1
			str1=str1[0]
			varr=patt2.findall(str1)
			varr=varr[0]
			self.varlist.append(varr)
		 

	def getvars(self,filename):
		fname=open(filename,"r")
		lines=fname.readlines() 

		for line in lines:
			self.findvars(line)       # processa linha
		
		fname.close()
