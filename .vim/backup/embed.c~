
typedef unsigned char u8;
typedef unsigned int  u16;
typedef unsigned long u32;



#include <stdio.h>


//Tabela de pesquisa para termopar tipo K
//A temperatura esta em ponto fixo Q10.3
//ADC de 10 bits  Vref2=2.500000  Vref1=0.000000//Ganho do amplificador G=46
//Temperaturas
//RANGE 0.000000 a 1345.302193
//
//Uso:   T=Ktemp[valor_adc]/TABLESCALE, adc<=MAXINPUT
#define MAXINPUT   1018
#define TABLESCALE 8
u16 Ktemp[MAXINPUT]={0,11,21,32,43,53,64,75,85,96,106,117,128,138,149,159,170,180,191,202,212,223,233,243,254,264,275,285,296,306,316,327,337,347,358,368,378,389,399,409,420,430,440,450,461,471,481,491,502,512,522,532,542,553,563,573,583,593,604,614,624,634,644,655,665,675,685,696,706,716,726,736,747,757,767,777,788,798,808,818,829,839,849,860,870,880,891,901,911,922,932,942,953,963,973,984,994,1005,1015,1026,1036,1046,1057,1067,1078,1088,1099,1109,1120,1130,1141,1151,1162,1172,1183,1193,1204,1214,1225,1236,1246,1257,1267,1278,1288,1299,1310,1320,1331,1341,1352,1363,1373,1384,1394,1405,1416,1426,1437,1448,1458,1469,1479,1490,1501,1511,1522,1533,1543,1554,1564,1575,1586,1596,1607,1617,1628,1639,1649,1660,1670,1681,1692,1702,1713,1723,1734,1745,1755,1766,1776,1787,1797,1808,1818,1829,1839,1850,1861,1871,1882,1892,1903,1913,1924,1934,1944,1955,1965,1976,1986,1997,2007,2018,2028,2039,2049,2059,2070,2080,2091,2101,2111,2122,2132,2142,2153,2163,2173,2184,2194,2204,2215,2225,2235,2246,2256,2266,2277,2287,2297,2307,2318,2328,2338,2349,2359,2369,2379,2390,2400,2410,2420,2431,2441,2451,2461,2471,2482,2492,2502,2512,2522,2533,2543,2553,2563,2573,2584,2594,2604,2614,2624,2634,2645,2655,2665,2675,2685,2695,2706,2716,2726,2736,2746,2756,2766,2777,2787,2797,2807,2817,2827,2837,2847,2858,2868,2878,2888,2898,2908,2918,2928,2938,2949,2959,2969,2979,2989,2999,3009,3019,3029,3039,3050,3060,3070,3080,3090,3100,3110,3120,3130,3140,3150,3160,3170,3180,3191,3201,3211,3221,3231,3241,3251,3261,3271,3281,3291,3301,3311,3321,3331,3341,3351,3361,3371,3381,3391,3401,3411,3421,3431,3441,3451,3461,3471,3481,3491,3501,3511,3521,3531,3541,3551,3561,3571,3581,3591,3601,3611,3621,3631,3641,3651,3661,3671,3681,3691,3701,3711,3721,3731,3741,3751,3761,3771,3781,3791,3801,3811,3821,3831,3841,3851,3861,3871,3881,3891,3901,3911,3921,3931,3941,3950,3960,3970,3980,3990,4000,4010,4020,4030,4040,4050,4060,4070,4080,4090,4100,4110,4120,4130,4140,4150,4160,4170,4180,4190,4200,4210,4219,4229,4239,4249,4259,4269,4279,4289,4299,4309,4319,4329,4339,4349,4359,4369,4379,4389,4399,4409,4419,4429,4439,4449,4459,4469,4478,4488,4498,4508,4518,4528,4538,4548,4558,4568,4578,4588,4598,4608,4618,4628,4638,4648,4658,4668,4678,4688,4698,4708,4718,4728,4738,4748,4758,4768,4778,4788,4797,4807,4817,4827,4837,4847,4857,4867,4877,4887,4897,4907,4917,4927,4937,4947,4957,4967,4977,4987,4997,5007,5017,5027,5037,5047,5058,5068,5078,5088,5098,5108,5118,5128,5138,5148,5158,5168,5178,5188,5198,5208,5218,5228,5238,5248,5258,5268,5278,5288,5299,5309,5319,5329,5339,5349,5359,5369,5379,5389,5399,5409,5420,5430,5440,5450,5460,5470,5480,5490,5500,5510,5521,5531,5541,5551,5561,5571,5581,5591,5602,5612,5622,5632,5642,5652,5662,5673,5683,5693,5703,5713,5723,5734,5744,5754,5764,5774,5784,5795,5805,5815,5825,5835,5846,5856,5866,5876,5886,5897,5907,5917,5927,5938,5948,5958,5968,5978,5989,5999,6009,6019,6030,6040,6050,6060,6071,6081,6091,6102,6112,6122,6132,6143,6153,6163,6173,6184,6194,6204,6215,6225,6235,6246,6256,6266,6277,6287,6297,6308,6318,6328,6339,6349,6359,6370,6380,6390,6401,6411,6421,6432,6442,6452,6463,6473,6484,6494,6504,6515,6525,6536,6546,6556,6567,6577,6588,6598,6608,6619,6629,6640,6650,6661,6671,6681,6692,6702,6713,6723,6734,6744,6755,6765,6776,6786,6797,6807,6818,6828,6839,6849,6860,6870,6881,6891,6902,6912,6923,6933,6944,6954,6965,6975,6986,6996,7007,7017,7028,7039,7049,7060,7070,7081,7091,7102,7112,7123,7134,7144,7155,7165,7176,7187,7197,7208,7218,7229,7240,7250,7261,7272,7282,7293,7304,7314,7325,7335,7346,7357,7367,7378,7389,7399,7410,7421,7432,7442,7453,7464,7474,7485,7496,7506,7517,7528,7539,7549,7560,7571,7582,7592,7603,7614,7625,7635,7646,7657,7668,7678,7689,7700,7711,7721,7732,7743,7754,7765,7775,7786,7797,7808,7819,7830,7840,7851,7862,7873,7884,7895,7905,7916,7927,7938,7949,7960,7971,7982,7992,8003,8014,8025,8036,8047,8058,8069,8080,8091,8101,8112,8123,8134,8145,8156,8167,8178,8189,8200,8211,8222,8233,8244,8255,8266,8277,8288,8299,8310,8321,8332,8343,8354,8365,8376,8387,8398,8409,8420,8431,8442,8453,8465,8476,8487,8498,8509,8520,8531,8542,8553,8564,8576,8587,8598,8609,8620,8631,8642,8654,8665,8676,8687,8698,8709,8721,8732,8743,8754,8765,8777,8788,8799,8810,8821,8833,8844,8855,8866,8878,8889,8900,8911,8923,8934,8945,8957,8968,8979,8991,9002,9013,9024,9036,9047,9058,9070,9081,9093,9104,9115,9127,9138,9149,9161,9172,9184,9195,9206,9218,9229,9241,9252,9264,9275,9287,9298,9309,9321,9332,9344,9355,9367,9378,9390,9401,9413,9425,9436,9448,9459,9471,9482,9494,9505,9517,9529,9540,9552,9563,9575,9587,9598,9610,9622,9633,9645,9657,9668,9680,9692,9703,9715,9727,9738,9750,9762,9774,9785,9797,9809,9821,9832,9844,9856,9868,9879,9891,9903,9915,9927,9939,9950,9962,9974,9986,9998,10010,10022,10034,10045,10057,10069,10081,10093,10105,10117,10129,10141,10153,10165,10177,10189,10201,10213,10225,10237,10249,10261,10273,10285,10297,10309,10321,10333,10346,10358,10370,10382,10394,10406,10418,10431,10443,10455,10467,10479,10492,10504,10516,10528,10540,10553,10565,10577,10589,10602,10614,10626,10639,10651,10663,10676,10688,10700,10713,10725,10738,10750,10762};


u16 adcvalue;
u16 T;
float Tflo;

main(){
	printf("Entre com o valor do ADC\n");
	scanf("%d",&adcvalue);
	T=Ktemp[adcvalue];
	Tflo=((float) T)/TABLESCALE;
	printf("T=%d\n",T);
	printf("Tflo=%f",Tflo);
	

}
