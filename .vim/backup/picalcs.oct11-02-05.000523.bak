#!/usr/bin/octave -qf

# Calcula resultado do ADC
#

#		Operações
#
#	bitshift
#	bitand
#	bitor
#	bitxor
#	bitnot
#

ADRESH=str2num(argv(){1});
ADRESL=str2num(argv(){2});

resolution=5/1024*1000
valorADC=( bitshift(ADRESH,2) + bitshift(ADRESH,-6))
bitshift(valorADC,-10)
valorADC=valorADC*5000
valorADC=valorADC/1024

valorADCQ8= round(valorADC*2^8+0.5)
erroQ8=valorADC-bitshift(valorADCQ8,-8)

valorADCQ12= round(valorADC*2^12+0.5)
erroQ12=valorADC-bitshift(valorADCQ12,-12)



printf(" Valor do ADC lido para ADRESH=0x%s e ADRESL=0x%s  é %f volts", \ 
dec2hex(ADRESH),dec2hex(ADRESL),valorADC);




