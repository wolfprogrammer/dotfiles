function i=ipvs(V)
%  Determina a tensão e potência do painel usando um modelo simplificado 
% por interpolação
%

Pmp= 60     ; %
Vmp = 17.1  ; %
Imp=3.5     ; %
Voc=21.1    ; %
Isc=3.8	    ; %


% Coeficientes Y=AX+B para  V<Vmp
A1=(Imp-Isc)/(Vmp-0);
B1=Isc;

% Coeficientes Y=AX+B para  Vmp<V<Voc
A2=(0-Imp)/(Voc-Vmp);
B2=0-A2*Voc;
 
%{
if (V<= Vmp )
  i=A1*V+B1   ;
else
  i=A2*V+B2   ;
end
%}

i=zeros(size(V)) 

i(V<=Vmp)=A1*V(V<=Vmp)+B1 ;
i(V>Vmp)=A2*V(V>Vmp)+B2  ;
	


end







