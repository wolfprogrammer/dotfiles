/*
 * =====================================================================================
 *
 *       Filename:  serial-training.c
 *
 *    Description:  Teste de rotinas para porta serial com o compilador TCC
 *    		    Tiny small compiler
 *
 *        Version:  1.0
 *        Created:  07/05/2011 01:01:57 PM
 *       Revision:  none
 *       Compiler:  tcc ( Tiny Small Compiler)
 *       	    tcc -run serial-training.c
 *       	    :!tcc -run %
 *
 * =====================================================================================
 */


#define u8 unsigned char
#define u16 unsigned short int

#include <stdio.h>





//   Cnvert 8 bit interger to hex number
//
void u8_2hex(u8 x,char * digit){

	// digit[1]  Upper digit
	// digit[0]  Lower digit

	digit[1]= (x & 0XF0)>>4;
	digit[0]= x & 0X0F;


	if(digit[0]<=9)
		digit[0]=digit[0]+'0';
	else
		digit[0]=digit[0]+'A';

         if(digit[1]<=9)
		digit[1]=digit[1]+'0';
	else
		digit[1]=digit[1]+'A';
        
}


/* 	Extract the decimal digits from a 8-bit unsigned integer
 *
 */
void u8_2dec(u8 N, char * digit){

	digit[0]=N%10;
	digit[1]=(N%100-digit[0])/10;
	digit[2]=(N-N%100)/100;

	digit[0]+='0';
	digit[1]+='0';
	digit[2]+='0';
}


void main(){

        u8 x;  // Criar rotina que converte inteiro para ascii
	int i=0;

	char dig[3];
        char digd[4];

	x=121; 


        u8_2hex(x,dig);
	printf("x=%c  x=%c%ch hexadicimal \n\n",x,dig[1],dig[0]);

        u8_2dec(x,digd);
        printf("x=%c  x=%c%c%c decimal \n\n",x,digd[2],digd[1],digd[0]);

	putchar(14);
	putchar(13);


	print("\n Incremento prefixo ");
	printf("\ni++=%d",i++);
	printf("\ni=%d",i);

	printf("\n Incremento posfixo");
	printf("\n++i=%d",++i);
	printf("\ni=%d",i);






}
